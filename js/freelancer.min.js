/*!
 * Start Bootstrap - Freelancer v3.3.7+1 (http://startbootstrap.com/template-overviews/freelancer)
 * Copyright 2013-2016 Start Bootstrap
 * Licensed under MIT (https://github.com/BlackrockDigital/startbootstrap/blob/gh-pages/LICENSE)
 */
// The Typetura script can be found at
// https://github.com/Typetura/Typetura

// The following is NOT the Typetura script. This is for the Typetura visualizer. Click on a headline to view it.

var cssTarget = ".primary-headline";

var css = document.createElement("style");
document.body.appendChild(css);

var p1 = [65, 100];
var p2 = [50, 0];

var fontFamily = "Roslindale";
var maxSize = 84;
var area = 900;
var activeWidth = 0;

var easing = document.getElementById("easing");

var easeStart = document.getElementById("ease-start");
var easeEnd = document.getElementById("ease-end");

var path = document.getElementById("tt-path");
var lineStart = document.getElementById("tt-line-start");
var lineEnd = document.getElementById("tt-line-end");

var ttModal = document.querySelector(".tt-configuration");
var inputFontFamily = document.getElementById("fontFamily");
var inputMaxSize = document.getElementById("maxSize");
var inputArea = document.getElementById("area");
var textMarker = document.getElementById("tt-marker");
var cuttentPX = document.getElementById("tt-currentpx");

var selectedEliment = document.querySelector(cssTarget);

inputFontFamily.value = fontFamily;
inputMaxSize.value = maxSize;
inputArea.value = area;

var xDif = 0;
var yDif = 0;

var moveMode = null;

// INIT

easeStart.setAttribute("cx", p1[0]);
easeStart.setAttribute("cy", p1[1]);
lineStart.setAttribute("x2", p1[0]);
lineStart.setAttribute("y2", p1[1]);
easeEnd.setAttribute("cx", p2[0]);
easeEnd.setAttribute("cy", p2[1]);
lineEnd.setAttribute("x2", p2[0]);
lineEnd.setAttribute("y2", p2[1]);
path.setAttribute(
  "d",
  `M0 100 C ${p1[0]} ${p1[1]} ${p2[0]} ${p2[1]} 100 0`
);

// Functions

function ttOpen() {
  ttModal.classList.add("active");
}
function ttClose() {
  ttModal.classList.remove("active");
}

function writeCurve(p1, p2) {
  fontFamily = inputFontFamily.value;
  maxSize = inputMaxSize.value;
  area = inputArea.value;

  css.innerHTML = `
  ${cssTarget} {
    font-family: ${fontFamily};
    --tt-max: ${area};
    --tt-ease: cubic-bezier(${p1[0] / 100},${1 - p1[1] / 100},${
    p2[0] / 100
  },${1 - p2[1] / 100});
  }
  @keyframes primary-headline {
    0% {
      line-height: 1.1;
      font-size: .75rem;
      font-weight: 700;
      letter-spacing: 0.02em;
      font-variation-settings: "opsz" 16;
      font-stretch: 50%;
    }

    80% {
      font-variation-settings: "opsz" 48;
    }

    100% {
      line-height: 1.03;
      font-size: ${maxSize}px;
      font-weight: 500;
      letter-spacing: 0.01em;
      font-variation-settings: "opsz" 48;
      font-stretch: 90%;
    }
  }

